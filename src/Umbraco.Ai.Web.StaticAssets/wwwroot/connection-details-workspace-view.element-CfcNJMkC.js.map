{"version":3,"file":"connection-details-workspace-view.element-CfcNJMkC.js","sources":["../Client/src/connection/workspace/connection/views/connection-details-workspace-view.element.ts"],"sourcesContent":["import { css, html, customElement, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\nimport { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\r\nimport type { UaiConnectionDetailModel } from \"../../../types.js\";\r\nimport { UaiPartialUpdateCommand } from \"../../../../core/index.js\";\r\nimport { UAI_CONNECTION_WORKSPACE_CONTEXT } from \"../connection-workspace.context-token.js\";\r\n\r\n/**\r\n * Workspace view for Connection details.\r\n * Displays provider selection, settings, and active toggle.\r\n */\r\n@customElement(\"uai-connection-details-workspace-view\")\r\nexport class UaiConnectionDetailsWorkspaceViewElement extends UmbLitElement {\r\n    #workspaceContext?: typeof UAI_CONNECTION_WORKSPACE_CONTEXT.TYPE;\r\n\r\n    @state()\r\n    private _model?: UaiConnectionDetailModel;\r\n\r\n    @state()\r\n    private _isNew?: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n        this.consumeContext(UAI_CONNECTION_WORKSPACE_CONTEXT, (context) => {\r\n            if (context) {\r\n                this.#workspaceContext = context;\r\n                this.observe(context.model, (model) => (this._model = model));\r\n                this.observe(context.isNew, (isNew) => (this._isNew = isNew));\r\n            }\r\n        });\r\n    }\r\n\r\n    #onProviderChange(event: Event) {\r\n        event.stopPropagation();\r\n        const target = event.target as HTMLInputElement;\r\n        this.#workspaceContext?.handleCommand(\r\n            new UaiPartialUpdateCommand<UaiConnectionDetailModel>({ providerId: target.value }, \"providerId\")\r\n        );\r\n    }\r\n\r\n    #onActiveChange(event: Event) {\r\n        event.stopPropagation();\r\n        const target = event.target as HTMLInputElement;\r\n        this.#workspaceContext?.handleCommand(\r\n            new UaiPartialUpdateCommand<UaiConnectionDetailModel>({ isActive: target.checked }, \"isActive\")\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (!this._model) return html`<uui-loader></uui-loader>`;\r\n\r\n        return html`\r\n            <uui-box headline=\"Connection Details\">\r\n                <umb-property-layout label=\"Provider\" description=\"AI provider for this connection\">\r\n                    <uui-input\r\n                        slot=\"editor\"\r\n                        .value=${this._model.providerId}\r\n                        @change=${this.#onProviderChange}\r\n                        placeholder=\"e.g., openai\"\r\n                        ?disabled=${!this._isNew}\r\n                    ></uui-input>\r\n                </umb-property-layout>\r\n\r\n                <umb-property-layout label=\"Active\" description=\"Enable or disable this connection\">\r\n                    <uui-toggle slot=\"editor\" .checked=${this._model.isActive} @change=${this.#onActiveChange}></uui-toggle>\r\n                </umb-property-layout>\r\n            </uui-box>\r\n\r\n            <uui-box headline=\"Provider Settings\">\r\n                <p class=\"placeholder-text\">\r\n                    Provider-specific settings will be displayed here once the provider is selected and saved. Future\r\n                    enhancement: Dynamic settings form based on provider's SettingDefinitions.\r\n                </p>\r\n            </uui-box>\r\n        `;\r\n    }\r\n\r\n    static styles = [\r\n        UmbTextStyles,\r\n        css`\r\n            :host {\r\n                display: block;\r\n                padding: var(--uui-size-layout-1);\r\n            }\r\n\r\n            uui-box {\r\n                margin-bottom: var(--uui-size-layout-1);\r\n            }\r\n\r\n            .placeholder-text {\r\n                color: var(--uui-color-text-alt);\r\n                font-style: italic;\r\n            }\r\n        `,\r\n    ];\r\n}\r\n\r\nexport default UaiConnectionDetailsWorkspaceViewElement;\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        \"uai-connection-details-workspace-view\": UaiConnectionDetailsWorkspaceViewElement;\r\n    }\r\n}\r\n"],"names":["_workspaceContext","_UaiConnectionDetailsWorkspaceViewElement_instances","onProviderChange_fn","onActiveChange_fn","UaiConnectionDetailsWorkspaceViewElement","UmbLitElement","__privateAdd","UAI_CONNECTION_WORKSPACE_CONTEXT","context","__privateSet","model","isNew","html","__privateMethod","event","target","__privateGet","UaiPartialUpdateCommand","UmbTextStyles","css","__decorateClass","state","customElement","UaiConnectionDetailsWorkspaceViewElement_default"],"mappings":";;;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAYO,IAAMC,IAAN,cAAuDC,EAAc;AAAA,EASxE,cAAc;AACV,UAAA,GAVDC,EAAA,MAAAL,CAAA,GACHK,EAAA,MAAAN,CAAA,GAUI,KAAK,eAAeO,GAAkC,CAACC,MAAY;AAC/D,MAAIA,MACAC,EAAA,MAAKT,GAAoBQ,CAAA,GACzB,KAAK,QAAQA,EAAQ,OAAO,CAACE,MAAW,KAAK,SAASA,CAAM,GAC5D,KAAK,QAAQF,EAAQ,OAAO,CAACG,MAAW,KAAK,SAASA,CAAM;AAAA,IAEpE,CAAC;AAAA,EACL;AAAA,EAkBA,SAAS;AACL,WAAK,KAAK,SAEHC;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKkB,KAAK,OAAO,UAAU;AAAA,kCACrBC,QAAKZ,GAAAC,CAAA,CAAiB;AAAA;AAAA,oCAEpB,CAAC,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,yDAKS,KAAK,OAAO,QAAQ,YAAYW,QAAKZ,GAAAE,CAAA,CAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAf5ES;AAAA,EA0B7B;AAoBJ;AAlFIZ,IAAA,oBAAA,QAAA;AADGC,IAAA,oBAAA,QAAA;AAoBHC,IAAiB,SAACY,GAAc;AAC5B,EAAAA,EAAM,gBAAA;AACN,QAAMC,IAASD,EAAM;AACrB,EAAAE,EAAA,MAAKhB,CAAA,GAAmB;AAAA,IACpB,IAAIiB,EAAkD,EAAE,YAAYF,EAAO,MAAA,GAAS,YAAY;AAAA,EAAA;AAExG;AAEAZ,IAAe,SAACW,GAAc;AAC1B,EAAAA,EAAM,gBAAA;AACN,QAAMC,IAASD,EAAM;AACrB,EAAAE,EAAA,MAAKhB,CAAA,GAAmB;AAAA,IACpB,IAAIiB,EAAkD,EAAE,UAAUF,EAAO,QAAA,GAAW,UAAU;AAAA,EAAA;AAEtG;AAlCSX,EAiEF,SAAS;AAAA,EACZc;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeJ;AA9EQC,EAAA;AAAA,EADPC,EAAA;AAAM,GAHEjB,EAID,WAAA,UAAA,CAAA;AAGAgB,EAAA;AAAA,EADPC,EAAA;AAAM,GANEjB,EAOD,WAAA,UAAA,CAAA;AAPCA,IAANgB,EAAA;AAAA,EADNE,EAAc,uCAAuC;AAAA,GACzClB,CAAA;AAqFb,MAAAmB,IAAenB;"}