{"version":3,"file":"connection-table-collection-view.element-DJEuwQrr.js","sources":["../Client/src/connection/collection/views/table/connection-table-collection-view.element.ts"],"sourcesContent":["import { html, customElement, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\nimport type { UmbTableColumn, UmbTableItem } from \"@umbraco-cms/backoffice/components\";\r\nimport { UMB_COLLECTION_CONTEXT } from \"@umbraco-cms/backoffice/collection\";\r\nimport { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\r\nimport type { UaiConnectionItemModel } from \"../../../types.js\";\r\nimport { UAI_CONNECTION_ICON } from \"../../../constants.js\";\r\nimport { UAI_EDIT_CONNECTION_WORKSPACE_PATH_PATTERN } from \"../../../workspace/connection/paths.js\";\r\n\r\n/**\r\n * Table view for the Connection collection.\r\n */\r\n@customElement(\"uai-connection-table-collection-view\")\r\nexport class UaiConnectionTableCollectionViewElement extends UmbLitElement {\r\n    @state()\r\n    private _items: UmbTableItem[] = [];\r\n\r\n    private _columns: UmbTableColumn[] = [\r\n        { name: \"Name\", alias: \"name\" },\r\n        { name: \"Provider\", alias: \"provider\" },\r\n        { name: \"Status\", alias: \"status\" },\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n        this.consumeContext(UMB_COLLECTION_CONTEXT, (ctx) => {\r\n            if (ctx) {\r\n                this.observe(ctx.items, (items) => this.#createTableItems(items as UaiConnectionItemModel[]));\r\n            }\r\n        });\r\n    }\r\n\r\n    #createTableItems(items: UaiConnectionItemModel[]) {\r\n        this._items = items.map((item) => ({\r\n            id: item.unique,\r\n            icon: UAI_CONNECTION_ICON,\r\n            data: [\r\n                {\r\n                    columnAlias: \"name\",\r\n                    value: html`<a\r\n                        href=${UAI_EDIT_CONNECTION_WORKSPACE_PATH_PATTERN.generateAbsolute({ unique: item.unique })}\r\n                        >${item.name}</a\r\n                    >`,\r\n                },\r\n                { columnAlias: \"provider\", value: item.providerId },\r\n                {\r\n                    columnAlias: \"status\",\r\n                    value: html`<uui-tag color=${item.isActive ? \"positive\" : \"danger\"}>\r\n                        ${item.isActive ? \"Active\" : \"Inactive\"}\r\n                    </uui-tag>`,\r\n                },\r\n            ],\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return html`<umb-table .columns=${this._columns} .items=${this._items}></umb-table>`;\r\n    }\r\n\r\n    static styles = [UmbTextStyles];\r\n}\r\n\r\nexport default UaiConnectionTableCollectionViewElement;\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        \"uai-connection-table-collection-view\": UaiConnectionTableCollectionViewElement;\r\n    }\r\n}\r\n"],"names":["_UaiConnectionTableCollectionViewElement_instances","createTableItems_fn","UaiConnectionTableCollectionViewElement","UmbLitElement","__privateAdd","UMB_COLLECTION_CONTEXT","ctx","items","__privateMethod","html","item","UAI_CONNECTION_ICON","UAI_EDIT_CONNECTION_WORKSPACE_PATH_PATTERN","UmbTextStyles","__decorateClass","state","customElement","UaiConnectionTableCollectionViewElement_default"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAaO,IAAMC,IAAN,cAAsDC,EAAc;AAAA,EAUvE,cAAc;AACV,UAAA,GAXDC,EAAA,MAAAJ,CAAA,GAEH,KAAQ,SAAyB,CAAA,GAEjC,KAAQ,WAA6B;AAAA,MACjC,EAAE,MAAM,QAAQ,OAAO,OAAA;AAAA,MACvB,EAAE,MAAM,YAAY,OAAO,WAAA;AAAA,MAC3B,EAAE,MAAM,UAAU,OAAO,SAAA;AAAA,IAAS,GAKlC,KAAK,eAAeK,GAAwB,CAACC,MAAQ;AACjD,MAAIA,KACA,KAAK,QAAQA,EAAI,OAAO,CAACC,MAAUC,EAAA,MAAKR,GAAAC,CAAA,EAAL,WAAuBM,CAAA,CAAkC;AAAA,IAEpG,CAAC;AAAA,EACL;AAAA,EAyBA,SAAS;AACL,WAAOE,wBAA2B,KAAK,QAAQ,WAAW,KAAK,MAAM;AAAA,EACzE;AAGJ;AA/COT,IAAA,oBAAA,QAAA;AAmBHC,IAAiB,SAACM,GAAiC;AAC/C,OAAK,SAASA,EAAM,IAAI,CAACG,OAAU;AAAA,IAC/B,IAAIA,EAAK;AAAA,IACT,MAAMC;AAAA,IACN,MAAM;AAAA,MACF;AAAA,QACI,aAAa;AAAA,QACb,OAAOF;AAAA,+BACIG,EAA2C,iBAAiB,EAAE,QAAQF,EAAK,OAAA,CAAQ,CAAC;AAAA,2BACxFA,EAAK,IAAI;AAAA;AAAA,MAAA;AAAA,MAGpB,EAAE,aAAa,YAAY,OAAOA,EAAK,WAAA;AAAA,MACvC;AAAA,QACI,aAAa;AAAA,QACb,OAAOD,mBAAsBC,EAAK,WAAW,aAAa,QAAQ;AAAA,0BAC5DA,EAAK,WAAW,WAAW,UAAU;AAAA;AAAA,MAAA;AAAA,IAE/C;AAAA,EACJ,EACF;AACN;AAxCSR,EA8CF,SAAS,CAACW,CAAa;AA5CtBC,EAAA;AAAA,EADPC,EAAA;AAAM,GADEb,EAED,WAAA,UAAA,CAAA;AAFCA,IAANY,EAAA;AAAA,EADNE,EAAc,sCAAsC;AAAA,GACxCd,CAAA;AAiDb,MAAAe,IAAef;"}