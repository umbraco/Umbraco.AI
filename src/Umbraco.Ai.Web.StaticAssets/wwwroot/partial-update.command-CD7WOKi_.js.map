{"version":3,"file":"partial-update.command-CD7WOKi_.js","sources":["../Client/src/connection/workspace/connection/connection-workspace.context-token.ts","../Client/src/core/command/command.base.ts","../Client/src/core/command/implement/partial-update.command.ts"],"sourcesContent":["import type { UaiConnectionWorkspaceContext } from \"./connection-workspace.context.js\";\r\nimport { UmbContextToken } from \"@umbraco-cms/backoffice/context-api\";\r\nimport type { UmbSubmittableWorkspaceContext } from \"@umbraco-cms/backoffice/workspace\";\r\nimport { UaiConnectionConstants } from \"../../constants.js\";\r\n\r\nexport const UAI_CONNECTION_WORKSPACE_CONTEXT = new UmbContextToken<\r\n    UmbSubmittableWorkspaceContext,\r\n    UaiConnectionWorkspaceContext\r\n>(\r\n    \"UmbWorkspaceContext\",\r\n    undefined,\r\n    (context): context is UaiConnectionWorkspaceContext =>\r\n        context.getEntityType?.() === UaiConnectionConstants.EntityType.Entity\r\n);\r\n","export interface UaiCommand {\r\n    correlationId?: string;\r\n    execute(receiver: unknown): void;\r\n}\r\n\r\nexport abstract class UaiCommandBase<TReceiver> implements UaiCommand {\r\n    correlationId?: string;\r\n\r\n    constructor(correlationId?: string) {\r\n        this.correlationId = correlationId;\r\n    }\r\n\r\n    abstract execute(receiver: TReceiver): void;\r\n}\r\n","import { UaiCommandBase } from \"../command.base.js\";\r\n\r\nexport class UaiPartialUpdateCommand<TReceiver> extends UaiCommandBase<TReceiver> {\r\n    #partial: Partial<TReceiver>;\r\n\r\n    constructor(partial: Partial<TReceiver>, correlationId?: string) {\r\n        super(correlationId);\r\n        this.#partial = partial;\r\n    }\r\n\r\n    execute(receiver: TReceiver) {\r\n        Object.keys(this.#partial)\r\n            .filter(key => this.#partial[key as keyof TReceiver] !== undefined)\r\n            .forEach(key => {\r\n                receiver[key as keyof TReceiver] = this.#partial[key as keyof TReceiver]!;\r\n            });\r\n    }\r\n}\r\n"],"names":["UAI_CONNECTION_WORKSPACE_CONTEXT","UmbContextToken","context","UaiConnectionConstants","UaiCommandBase","correlationId","UaiPartialUpdateCommand","#partial","partial","receiver","key"],"mappings":";;AAKO,MAAMA,IAAmC,IAAIC;AAAA,EAIhD;AAAA,EACA;AAAA,EACA,CAACC,MACGA,EAAQ,gBAAA,MAAsBC,EAAuB,WAAW;AACxE;ACRO,MAAeC,EAAgD;AAAA,EAGlE,YAAYC,GAAwB;AAChC,SAAK,gBAAgBA;AAAA,EACzB;AAGJ;ACXO,MAAMC,UAA2CF,EAA0B;AAAA,EAC9EG;AAAA,EAEA,YAAYC,GAA6BH,GAAwB;AAC7D,UAAMA,CAAa,GACnB,KAAKE,KAAWC;AAAA,EACpB;AAAA,EAEA,QAAQC,GAAqB;AACzB,WAAO,KAAK,KAAKF,EAAQ,EACpB,OAAO,CAAAG,MAAO,KAAKH,GAASG,CAAsB,MAAM,MAAS,EACjE,QAAQ,CAAAA,MAAO;AACZ,MAAAD,EAASC,CAAsB,IAAI,KAAKH,GAASG,CAAsB;AAAA,IAC3E,CAAC;AAAA,EACT;AACJ;"}